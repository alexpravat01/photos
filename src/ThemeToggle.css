/* --- The Main Toggle Button --- */
.theme-toggle-button {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  /* This creates a "clipping mask" for the circular animation */
  overflow: hidden; 
  position: relative;
  width: 24px; /* Match SVG size */
  height: 24px; /* Match SVG size */
}

/* --- Container for the two icons --- */
.icon-container {
  width: 100%;
  height: 100%;
  transition: transform 0.5s cubic-bezier(0.46, 0.03, 0.52, 0.96);
}

/* --- Shared SVG Icon Styles --- */
.sun, .moon {
  position: absolute;
  top: 0;
  left: 0;
  transition: opacity 0.5s cubic-bezier(0.46, 0.03, 0.52, 0.96);
  color: var(--header-text); /* Use a CSS variable for the color */
}

/* =================================================================== */
/*                          ANIMATION STATES                           */
/* =================================================================== */

/* --- Light Mode (Default) --- */
.moon {
  opacity: 0; /* Moon is invisible */
  transform: translateY(100%); /* Start moon below the button */
}
.sun {
  opacity: 1; /* Sun is visible */
  transform: translateY(0);
}

/* --- Dark Mode --- */
[data-theme='dark'] .icon-container {
  transform: rotate(360deg); /* Rotate the whole container for a nice effect */
}
[data-theme='dark'] .sun {
  opacity: 0; /* Sun becomes invisible */
  transform: translateY(-100%); /* Sun moves up out of view */
}
[data--theme='dark'] .moon {
  opacity: 1; /* Moon becomes visible */
  transform: translateY(0); /* Moon moves into view */
}